<link rel="stylesheet" href="~/css/controller/home/_OurServices.css" asp-append-version="true" />
<section class="row bg-primary p-md-5 p-3 our-services">
    <h1>Our Categories</h1>
    <div class="row align-items-center my-5">
        <ul class="col-md-12 col-lg-6">
            <li>
                <i class="bi bi-car-front-fill"></i>
                <a asp-action="Index" asp-controller="Category" asp-route-id="2" class="text-white text-decoration-none">Car Rental</a>
            </li>
            <li>
                <i class="bi bi-building-fill-gear"></i>
                <a asp-action="Index" asp-controller="Category" asp-route-id="1" class="text-white text-decoration-none">Contruction Equipment Rental</a>
            </li>
            <li>
                <i class="bi bi-display-fill"></i>
                <a asp-action="Index" asp-controller="Category" asp-route-id="3" class="text-white text-decoration-none">Personal / Office Item Rental</a>
            </li>
            <li>
                <i class="bi bi-people-fill"></i>
                <a asp-action="Index" asp-controller="Category" asp-route-id="4" class="text-white text-decoration-none">Props / Events Equipments Rental</a>
            </li>
            <li>
                <i class="bi bi-people-fill"></i>
                <a asp-action="Index" asp-controller="Category" asp-route-id="5" class="text-white text-decoration-none">Car Tracker Sales</a>
            </li>
        </ul>
        <div class ="col-md-12 col-lg-6 images ">
            @* <img src="~/img/our-services.png" alt="Our Services" class="image image1"/>
            <img src="~/img/our-services.png" alt="Our Services" class="image image2" />
            <img src="~/img/our-services.png" alt="Our Services" class="image image3" /> *@

        </div>
    </div>
</section>
<script>
    $(document).ready(function () {
        // Array to store used image numbers
        var usedImages = [];

        // Function to get a random image number
        function getRandomImageNumber() {
            var num = Math.floor(Math.random() * 10) + 1; // Assuming you have images named 1.png to 10.png
            while (usedImages.includes(num)) {
                num = Math.floor(Math.random() * 10) + 1;
            }
            usedImages.push(num);
            if (usedImages.length > 3) {
                usedImages.shift(); // Remove the oldest image numbers to keep only 3
            }
            return num;
        }

        // Function to add a new random image
        function addRandomImage() {
            var randomImageNumber = getRandomImageNumber();
            var imageUrl = 'img/category/' + randomImageNumber + '.jpg';
            var newImageClass = 'image' + (usedImages.length);
            var newImage = $('<img>').attr({
                'src': imageUrl,
                'alt': 'Our Services',
                'class': 'image ' + newImageClass
            }).hide();

            $('.images').append(newImage);
            newImage.fadeIn(500);
        }

        // Function to update a single image
        function updateImage(image) {
            var randomImageNumber = getRandomImageNumber();
            var imageUrl = 'img/category/' + randomImageNumber + '.jpg';
            image.fadeOut(500, function () {
                image.attr('src', imageUrl).fadeIn(500);
            });
        }

        // Function to update the images sequentially
        function updateImagesSequentially() {
            var images = $('.images img');
            if (images.length < 3) {
                addRandomImage();
            } else {
                var randomIndex = Math.floor(Math.random() * images.length);
                updateImage($(images[randomIndex]));
            }
        }

        // Initial call to set the first images
        for (var i = 0; i < 3; i++) {
            addRandomImage();
        }

        // Set interval to update images every 5 seconds
        setInterval(updateImagesSequentially, 5000);
    });
</script>